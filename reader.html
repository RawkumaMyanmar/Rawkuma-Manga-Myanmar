<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rawkuma Reader</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --accent: #8b5cf6; --bg: #0f172a; }
        body { font-family: sans-serif; margin: 0; background: var(--bg); color: white; overflow-x: hidden; }
        
        /* Sticky Header */
        .reader-nav { 
            position: fixed; top: 0; width: 100%; background: rgba(15, 23, 42, 0.9); 
            backdrop-filter: blur(10px); padding: 12px; display: flex; 
            justify-content: space-between; align-items: center; z-index: 1000;
            border-bottom: 1px solid rgba(255,255,255,0.1); box-sizing: border-box;
        }
        .reader-nav a { color: white; text-decoration: none; font-size: 14px; display: flex; align-items: center; gap: 5px; }

        /* Images Container */
        .image-container { margin-top: 50px; display: flex; flex-direction: column; align-items: center; background: #000; }
        .image-container img { width: 100%; max-width: 800px; display: block; height: auto; }

        /* Bottom Controls */
        .controls { padding: 40px 20px; display: flex; flex-direction: column; align-items: center; gap: 20px; background: var(--bg); }
        .btn { background: var(--accent); color: white; padding: 12px 30px; border-radius: 10px; text-decoration: none; font-weight: bold; font-size: 15px; width: 80%; max-width: 300px; text-align: center; }
        .btn-home { background: rgba(255,255,255,0.1); border: 1px solid var(--glass); }
    </style>
</head>
<body>

    <div class="reader-nav">
        <a href="javascript:history.back()"><i class="fas fa-chevron-left"></i> Back</a>
        <div id="nav-title" style="font-size: 13px; font-weight: bold; text-align: center; color: var(--accent);">Loading...</div>
        <div style="width: 50px;"></div> 
    </div>

    <div class="image-container" id="manga-viewer">
        </div>

    <div class="controls">
        <p style="font-size: 13px; color: #94a3b8;">You have reached the end of this chapter.</p>
        <a href="index.html" class="btn btn-home">HOME</a>
    </div>

    <script>
        // ၁။ URL ကနေ Data ယူမယ် (details.html က ပို့လိုက်တဲ့ id နဲ့ ch)
        const params = new URLSearchParams(window.location.search);
        const mangaId = params.get('manga');
        const chNum = params.get('ch');

        // ၂။ Manga ပုံများ Data (Chapter 1, 2 စသဖြင့် နံပါတ်နဲ့ သိမ်းထားတာ ပိုအဆင်ပြေပါတယ်)
        const readerData = {
            "gomibako": {
                "1": [
                    "https://i.ibb.co/LDFt7Mwv/1.jpg",
                    "https://i.ibb.co/pBXnbVJP/Please-Bully-Me-Cover.webp"
                ],
                "2": [
                    "https://i.ibb.co/twk08C60/proxy.jpg"
                ]
            },
            "bullyme": {
                "1": [
                    "https://i.ibb.co/zWdPpysG/001.png",
                    "https://i.ibb.co/bR1VNDXY/002.png",
                    "https://i.ibb.co/ZR2g2r40/003-png.jpg"
                ]
            },
            "protagonist-path": {
                "1": [
                    "https://i.ibb.co/Y4RVzwZj/chapter1-page1.png",
                    "https://i.ibb.co/M5BJHSFT/chapter1-page2.png",
                    "https://i.ibb.co/bYgN58K/chapter1-page3.png",
                    "https://i.ibb.co/Lh5GL6tv/chapter1-page4.png"
               "https://i.ibb.co/Lh5GL6tv/chapter1-page4.png",
                  "https://i.ibb.co/wFpSsq7X/chapter1-page5.png",
                  "https://i.ibb.co/6RdVS34b/chapter1-page6.png",
"https://i.ibb.co/G3t3pqky/chapter1-page7.png",
"https://i.ibb.co/DDbPBqyf/chapter1-page8.png",
"https://i.ibb.co/ynp5BPb0/chapter1-page9.png",
"https://i.ibb.co/1J23LQFg/chapter1-page10.png",
"https://i.ibb.co/h1yvJ9wP/chapter1-page11.png",
"https://i.ibb.co/fYJ2yw7z/chapter1-page12.png",
"https://i.ibb.co/dykGdmY/chapter1-page13.png",
"https://i.ibb.co/V0SK5CfH/chapter1-page14.png",
"https://i.ibb.co/HT3FqtL6/chapter1-page15.png",
"https://i.ibb.co/cXSCzzDm/chapter1-page16.png",
"https://i.ibb.co/qLqQJ6Qd/chapter1-page17.png",
"https://i.ibb.co/Wv8dKvjd/chapter1-page18.png",
"https://i.ibb.co/rfsS8wJR/chapter1-page19.png",
"https://i.ibb.co/21HTnJ4V/chapter1-page20.png",
"https://i.ibb.co/whTH94g1/chapter1-page21.png",
"https://i.ibb.co/8DCs0T1v/chapter1-page22.png",
"https://i.ibb.co/BV0Sy2V6/chapter1-page23.png",
"https://i.ibb.co/XxtHtS3P/chapter1-page24.png",
"https://i.ibb.co/ch2syH0J/chapter1-page25.png",
"https://i.ibb.co/GvYRGrnp/chapter1-page26.png",
"https://i.ibb.co/8L8syZKn/chapter1-page27.png",
"https://i.ibb.co/gZV2FFpQ/chapter1-page28.png",
"https://i.ibb.co/KzpKpHHs/chapter1-page29.png",
"https://i.ibb.co/v5yFzvF/chapter1-page30.png",
"https://i.ibb.co/WWk2GTYX/chapter1-page31.png",
"https://i.ibb.co/gLDtfpNH/chapter1-page32.png",
"https://i.ibb.co/HTkrxxz5/chapter1-page33.png"
                ]
            }
        };

        const viewer = document.getElementById('manga-viewer');
        const titleDisplay = document.getElementById('nav-title');

        // ၃။ ပုံများကို ထုတ်ပြခြင်း Logic
        if (mangaId && chNum && readerData[mangaId] && readerData[mangaId][chNum]) {
            titleDisplay.innerText = "Chapter " + chNum;
            const images = readerData[mangaId][chNum];
            
            images.forEach(imgUrl => {
                const imgTag = document.createElement('img');
                imgTag.src = imgUrl;
                imgTag.loading = "lazy"; // Website မြန်အောင် lazy load သုံးထားပါတယ်
                viewer.appendChild(imgTag);
            });
        } else {
            titleDisplay.innerText = "Error: Chapter Not Found";
            viewer.innerHTML = `<div style="padding: 100px 20px; text-align: center; color: #64748b;">
                <i class="fas fa-exclamation-circle" style="font-size: 40px; margin-bottom: 10px;"></i>
                <p>ပုံများ ရှာမတွေ့ပါ။ အချက်အလက် မှားယွင်းနေပါသည်။</p>
            </div>`;
        }

        // Right Click ပိတ်ထားခြင်း (ပုံများ ကူးယူမှုကို ကာကွယ်ရန်)
        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>
